<?xml version="1.0" encoding="UTF-8" ?>
<library>
    
<class name="responseformoderation"  extends="labelexplorerbox" labelid="81"
	width="500" height="250" x="14" y="-300" closable="true">
	
	<attribute name="applymessage" value="null" />
	<attribute name="clientId" value="0" type="string" />
	
	<attribute name="userobject" value="null" />
	
	<handler name="oninit">
		<![CDATA[
		var dtString = '';
		dtString += 'Name: '+userobject['username']+'<BR />';
		dtString += 'Host: '+userobject['userip']+'<BR />';
		dtString += 'Time: '+userobject['connectedSince']+'<BR />';
		
		this.userToAccept.setText(dtString);
		]]>
	</handler>
	
	<labeltext labelid="89" y="20" x="2" />
	
	<labeltext name="userToAccept" y="50" multiline="true" width="200" resize="false" />
    
    <simplelabelbutton labelid="90" width="200" x="80" y="218" >
    	<handler name="onclick">
			parent.applymessage = new Array();
			parent.applymessage[0] = 'applyModAnswer';
			parent.applymessage[1] = 'ok';   
			parent.sendMessageWithClientById.call();		
    	</handler>
    </simplelabelbutton>
    
    <simplelabelbutton labelid="91" width="200" x="290" y="218" >
    	<handler name="onclick">
			parent.applymessage = new Array();
			parent.applymessage[0] = 'applyModAnswer';
			parent.applymessage[1] = 'no'; 
			parent.sendMessageWithClientById.call();	
    	</handler>
    </simplelabelbutton>
     
    <netremotecall name="sendMessageWithClientById" funcname="sendMessageWithClientById" remotecontext="$once{ canvas.thishib }" >  
    	<netparam name="vars1"><method name="getValue">return parent.parent.applymessage;</method></netparam>
        <netparam name="vars2"><method name="getValue">return parent.parent.clientId;</method></netparam>
        <handler name="ondata" args="value">
        	<![CDATA[
            //The onResult-Handler will be called be the rtmpconnection
            Debug.write("sendMessageWithClientById : ",value);
			this.parent.close();
            ]]>
        </handler>   
    </netremotecall> 
    
    <animator attribute="y" to="20" duration="1000" start="true"/>
    
</class>

</library>