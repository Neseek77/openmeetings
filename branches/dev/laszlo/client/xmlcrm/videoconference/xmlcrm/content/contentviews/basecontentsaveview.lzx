<?xml version="1.0" encoding="UTF-8" ?>
<library>
    
<class name="basecontentsaveview" extends="basecontentview">

    <attribute name="observerViews" value="null" />

    <view name="_savecontentbar" layout="axis:x;spacing:2;inset:2" x="2" height="28" width="$once{ parent.width }"
        bgcolor="$once{ canvas.baseMousecolorizer }">
        <basechooseseicon resourceN="filesave_rsc" labelid="144" y="2" >
            <handler name="onclick">
                this.parent.parent.doSaveEvent();
            </handler>
        </basechooseseicon>
    </view>
    
    <method name="addViewToObserver" args="obj">
    	if (this.observerViews==null) this.observerViews = new Array();
        this.observerViews.push(obj);
    </method>
    
    <method name="doSaveEvent">
    	if (this.observerViews.length!=0){
        	new contentsavewindow(canvas.main_content._content.inner,{saveObj:this.observerViews});
        }
    </method>

    <handler name="ontabcontentleave" />
    
    <method name="close">
        this.ontabcontentleave.sendEvent();
        this.destroy();
    </method>

</class>

</library>