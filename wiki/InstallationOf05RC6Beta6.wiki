#summary Installation of 05 Release Candidate 6 and Release Candidate 7
#labels Featured


= Requirements =

  * Database availible (MySQL,Postgres,... MSSQL,Oracle,DB2 see [http://www.hibernate.org/hib_docs/reference/en/html/session-configuration.html#configuration-optional-dialects   full-list]) I recommend to make/use an empty database/scheme
  Database MUST listen and allow TCP/IP connections! And the default character-set/scheme must be UTF8! _For example_ a fresh MySQL does *not* listen on TCP/IP by default and has *not* utf8 as default-charset defined. You have to change these settings and restart your database server sothat changes take effect. Postgres for example does also not listen by default on TCP/IP but uses by default UTF8. In Postgres you need to create a database using *template1* cause template1 create automatically a scheme called *public* which is needed.
  * Open-Office-Service started and listening on port 8100 (see OpenOfficeConverter, this is not necessary for installation but for running later on)
  * Installed `ImageMagick` (this is not necessary for installation but for running later on), you can get more information on http://www.imagemagick.org regarding installation. The instructions for installation can be found there http://www.imagemagick.org/script/binary-releases.php, however on most linux systems you can get it via your favorite package managers (apt-get it)
  * Installed `GhostScript` (this is not necessary for installation but for running later on), you can get more information on http://pages.cs.wisc.edu/~ghost/ regarding installation. The instructions for installation can be found there, however on most linux systems you can get it via your favorite package managers (apt-get it).
  * Installed `SWFTools` (this is not necessary for installation but for running later on), you can get more information on http://www.swftools.org/ regarding installation. Some of the Linux distributions already have it in there package manager see http://packages.debian.org/unstable/utils/swftools) 

= Install latest Red5 Server (v0.6.3) =

  * you can get the latest Version of Red5 from: http://www.osflash.org
  * configure Red5, the default ports Red5 is listening are also the default ports openmeetings application will try to connect. However you will find the exact port settings in _$RED5-HOME/conf/red5.properties_ (or follow the installation of red5)

= Install Openmeetings =
  # Download Openmeetings 0.5 Rc6 (beta6) from [ http://code.google.com/p/openmeetings/downloads/list Openmeetings-Download-Page] (Please make sure that you use an up-to-date unzip-software)
  # Unpack it to _$RED5-HOME/webapps/_ your new folder structure will be _$RED5-HOME/webapps/xmlcrm/_ this is the base directory of Openmeetings (following $OPENMEETINGS-HOME)
  # Prepare Database Settings - goto $OPENMEETINGS-HOME/install there are two preconfigured files for MySQL and Postgres: mysql_hibernate.cfg.xml and postgres_hibernate.cfg.xml. Following explains it for MySQL-Database-Users, Postgres-Database-Users and Any-Database-Users. Choose Your One!! Of course the database must already exist! Meaning if you want to use  `jdbc:mysql://localhost/xmlcrm` then the database `xmlcrm` must be already an existing empty database!!
    * MySQL-Database-User: Rename `mysql_hibernate.cfg.xml` to `hibernate.cfg.xml` and alter following config values in (`mysql_`)`hibernate.cfg.xml`
     {{{
		<property name="connection.username">root</property>
		<property name="connection.password"></property>

		<property name="connection.url">jdbc:mysql://YOUR_HOSTNAME/YOUR_DATABASE</property>	
     }}}
    If you go problems in connecting your database you properly need to replace the jdbc-driver with the one for your mysql-version, see http://www.mysql.com/products/connector/j/ for drivers and replace the mysql-connector-java-3.1.14-bin.jar in xmlcrm/WEB-INF/lib with the one you have downloaded. If your mysql server is not located in localhost make sure the mysql-server is listening on that network-interface.
    Of course you must alter `YOUR_HOSTNAME/YOUR_DATABASE` to fit your needs for example to:`jdbc:mysql://localhost/xmlcrm`
    * Postgres-Database-Users: Rename `postgres_hibernate.cfg.xml` to `hibernate.cfg.xml` and alter following config values in (`postgres_`)`hibernate.cfg.xml`
    {{{
		<!-- User  / Password -->
		<property name="connection.username">postgres</property>
		<property name="connection.password"></property>
		
		<property name="connection.url">jdbc:postgresql://YOUR_HOSTNAME/YOUR_DATABASE</property>	
    }}}
    If you go problems in connecting your database you properly need to replace the jdbc-driver with the one for your postgres-version, see http://jdbc.postgresql.org/download.html for drivers and replace the postgresql-8.2-504.jdbc2.jar in xmlcrm/WEB-INF/lib with the one you have downloaded. Don't forget that the encoding of the database must be UNICODE! In past Postgres Version this has been Latin1.
    Of course you must alter `YOUR_HOSTNAME/YOUR_DATABASE` to fit your needs for example to:`jdbc:postgresql://localhost/xmlcrm`
    * Any-Database-Users: Rename `any_hibernate.cfg.xml` to hibernate.cfg.xml. 
    Alter the following config values to fit your needs:
    {{{
		<!-- User  / Password -->
		<property name="connection.username">user</property>
		<property name="connection.password">*****</property>
		
		<!-- Database Settings -->
		<property name="connection.driver_class">org.postgresql.Driver</property>
		<property name="dialect">org.hibernate.dialect.PostgreSQLDialect</property>
		<property name="connection.url">jdbc:postgresql://localhost/xmlcrm</property>	
		
    }}}
    You can see a list of available _dialect_'s here [http://www.hibernate.org/hib_docs/reference/en/html/session-configuration.html#configuration-optional-dialects hibernate-SQL-dialects]. You must download the driver for your database and copy it to _$OPENMEETINGS-HOME/WEB-INF/lib_
  # (Re)start Red5 (The table's and default database scheme will be automatically created by hibernate if there is something wrong with your database values you will see errors in Red5 logfile, you can reduce Error log output by switching _$RED5-HOME/conf/log4j.properties_ from DEBUG to ERROR to see only relevant value's)
  # go to the Installer by accessing it via browser: http://$rmpthostlocal/xmlcrm/Install it looks like that (If you unpack your stuff on localhost and do not alter the red5 port settings it will be http://localhost:5080/xmlcrm/Install): 

  # Step 1 - install welcome and reminding
http://openmeetings.googlecode.com/svn/branches/dev/laszlo/client/xmlcrm/resources/screens/install_step1.png

  # Step 2 - adding data
http://openmeetings.googlecode.com/svn/branches/dev/laszlo/client/xmlcrm/resources/screens/august_screeninstallationstep2.png

  # Step 3 - installation complete
http://openmeetings.googlecode.com/svn/branches/dev/laszlo/client/xmlcrm/resources/screens/install_step3a.png

  # Step 4 - enter Application (http://$rmpthostlocal/xmlcrm/) 
http://openmeetings.googlecode.com/svn/branches/dev/laszlo/client/xmlcrm/resources/screens/install_step4.png

Now you can login. All basics are installed. Now login and goto the Meeting-Rooms and check all features. You properbly will have some difficulties uploading files. Check if OpenOffice is really running, swftool, ImageMagick (including GhostScript) is availible on  your System-Path (or your customize the path in the Configuration). On Linux your properbly will have to make some shell-Script executable, you find them in $Openmeetings-Home/jod/*.sh.


= Tips and Tricks =

  * Increase Performace by changing log-Level: Goto _$RED5-HOME/conf/log4j.properties_ and  change the first line to:
  {{{
    log4j.rootCategory=ERROR, CONSOLE 
  }}}
  * Use the Debug-Application: Enter in your browser http://$RED-HOST:$RED5-PORT/xmlcrm/maindebug.lzx.lzr=swf8.swf for example http://localhost:5080/xmlcrm/maindebug.lzx.lzr=swf8.swf
  * If you have Problems with convertion-jops check your Red5-Log output. There will be error Messages which help you. You must install Open-Office and `ImageMagick` and `GhostScript` to run all Convertion-Jobs correctly.