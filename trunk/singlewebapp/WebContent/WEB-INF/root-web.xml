<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
	 
	<!-- ROOT web context -->
	<bean id="web.context" class="org.red5.server.Context">
		<property name="scopeResolver" ref="red5.scopeResolver" />
		<property name="clientRegistry" ref="global.clientRegistry" />
		<property name="serviceInvoker" ref="global.serviceInvoker" />
		<property name="mappingStrategy" ref="global.mappingStrategy" />
	</bean>
	
	<bean id="web.scope" class="org.red5.server.WebScope" init-method="register">
		<property name="server" ref="red5.server" />
		<property name="parent" ref="global.scope" />
		<property name="context" ref="web.context" />
		<property name="handler" ref="global.handler" />
		<property name="contextPath" value="/" />
		<property name="virtualHosts" value="*,localhost, localhost:8080, 127.0.0.1:8080" />
	</bean>
	
    <bean id="web.context.openmeetings" class="org.red5.server.Context">
        <property name="scopeResolver" ref="red5.scopeResolver" />
        <property name="clientRegistry" ref="global.clientRegistry" />
        <property name="serviceInvoker" ref="global.serviceInvoker" />
        <property name="mappingStrategy" ref="global.mappingStrategy" />
    </bean>
    
    <bean id="web.scope.openmeetings" class="org.red5.server.WebScope" init-method="register">
        <property name="server" ref="red5.server" />
        <property name="parent" ref="global.scope" />
        <property name="context" ref="web.context.openmeetings" />
        <property name="handler" ref="web.handler.openmeetings" />
        <property name="contextPath" value="/openmeetings" />
        <property name="virtualHosts" value="*" />
    </bean>
    
    <!-- New Class for the Streaming Handlers -->
    <bean id="web.handler.openmeetings" 
        class="org.openmeetings.app.remote.red5.ScopeApplicationAdapter">
        <property name="clientListManager" ref="openmeetings.ClientListManager" />
        <property name="emoticonsManager" ref="openmeetings.EmoticonsManager" />
        <property name="whiteBoardService" ref="whiteboardservice.service" />
    </bean>
        
    <bean id="openmeetings.ClientListManager"
        class="org.openmeetings.app.remote.red5.ClientListManager">
    </bean> 
    
    <bean id="openmeetings.EmoticonsManager" 
        class="org.openmeetings.app.remote.red5.EmoticonsManager">
    </bean> 
 
    <bean id="openmeetings.WhiteBoardObjectListManager"
        class="org.openmeetings.app.remote.red5.WhiteBoardObjectListManager">
    </bean>      
        
    <!-- DATABASE Connection via hibernate
    <bean id="theSessionFactory" class="org.springframework.orm.hibernate3.LocalSessionFactoryBean">
        <property name="configLocation"
            value="conf/hibernate.cfg.xml"/>
    </bean>
      -->
  
    <import resource="red5-services/appointmentcategoryservice.service.xml"/> 
    <import resource="red5-services/appointmentreminderservice.service.xml"/>
    <import resource="red5-services/calendarservice.service.xml"/> 
    <import resource="red5-services/meetingmemberservice.service.xml"/>  
    <import resource="red5-services/fileservice.service.xml"/>  
    <import resource="red5-services/conferenceservice.service.xml"/>  
    <import resource="red5-services/userservice.service.xml"/>  
    <import resource="red5-services/organisationservice.service.xml"/>  
    <import resource="red5-services/configservice.service.xml"/>  
    <import resource="red5-services/errorservice.service.xml"/>  
    <import resource="red5-services/pollservice.service.xml"/>  
    <import resource="red5-services/xmlcrm.service.xml"/>  
    <import resource="red5-services/issueservice.service.xml"/>  
    <import resource="red5-services/languageservice.service.xml"/>  
    <import resource="red5-services/chatservice.service.xml"/>  
    <import resource="red5-services/streamservice.service.xml"/>  
    <import resource="red5-services/invitationservice.service.xml"/>  
    <import resource="red5-services/whiteboardservice.service.xml"/>  
    <import resource="red5-services/printservice.service.xml"/> 
    <import resource="red5-services/flvrecorderservice.service.xml"/> 



</beans>
